<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Web components Intermediate 2</title>
	<style>
		/*Shadow dom example*/
		li::shadow{ /*it wonÂ´t work because we need to define the custom element*/
			color: green;
		}
		developers-list::shadow li{
			color: red;
		}
		developers-list /deep/ li{
			color: blue;
		}

		custom-unresolved:unresolved{
			color: red;
		}
		custom-unresolved{
			color: green;
		}
		custom-reallyunresolved:unresolved{
			color: red;
		}
	</style>
</head>
<body>
	<h2>Styling insertion point</h2>
	<div id="host">
		<button>My button</button>
	</div>
	<template id="content">
		<style>
			::content button{
				color: red;
			}
		</style>
		<content></content>
	</template>
	<hr>
	<h2>Shadow DOM inside Shadow DOM</h2>
	<template id="developers">
		<ul>
			<li>Developer 1</li>
			<li>Developer 2</li>
			<li>Developer 3</li>
			<li>Developer 4</li>
			<li>Developer 5</li>
		</ul>
		<shadow></shadow><!--we need to put this tag if not boss-list will not work-->
	</template>

	<template id="boss">
		<ul>
			<li>Boss 1</li>
			<li>Boss 2</li>
		</ul>
	</template>

	<developers-list>
		<boss-list></boss-list>
	</developers-list>
	<hr>
	<h2>Resolved elements vrs Unresolved Elements</h2>
	<custom-unresolved></custom-unresolved>
	<custom-reallyunresolved>Im unresolved
	</custom-reallyunresolved>

	<template id="unresolved">
		Im resolved
	</template>
	
	<script>
		var hostcontent = document.querySelector("#host");
		var rootcontent = hostcontent.createShadowRoot();
		var templatecontent = document.querySelector("#content");
		rootcontent.appendChild(templatecontent.content);


		var developersList = Object.create(HTMLElement.prototype);
		developersList.createdCallback = function(){
			var template = document.querySelector("#developers");
			var templateClone = document.importNode(template.content,true);
			this.createShadowRoot().appendChild(templateClone);
		}

		document.registerElement("developers-list",{
			prototype: developersList
		});

		var bossList = Object.create(HTMLElement.prototype);
		bossList.createdCallback = function(){
			var templateBoss = document.querySelector("#boss");
			var templateCloneBoss = document.importNode(templateBoss.content,true);
			this.createShadowRoot().appendChild(templateCloneBoss);
		}

		document.registerElement("boss-list",{
			prototype: bossList
		});


		var unresolved = Object.create(HTMLElement.prototype);
		unresolved.createdCallback = function(){
			var templateUnresolved = document.querySelector("#unresolved");
			var templateCloneUnresolved = document.importNode(templateUnresolved.content,true);
			this.createShadowRoot().appendChild(templateCloneUnresolved);
		}
		document.registerElement("custom-unresolved",{
			prototype: unresolved
		})

	</script>
</body>
</html>